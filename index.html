<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GudangDuit - Mobile Finance</title>
    <link rel="stylesheet" href="assets/css/neobrutalism.css">
    <link rel="stylesheet" href="assets/css/neo_custom.css">
    <link rel="stylesheet" href="assets/css/pull-to-refresh.css">
    <link rel="stylesheet" href="assets/css/settings.css">
</head>

<body class="bg-graph" style="padding-bottom: 80px;">

    <!-- Modals Component Container -->
    <div id="modals-container"></div>

    <!-- FAB for Manual Input -->
    <div id="fab-manual" class="fab-manual">+</div>

    <!-- Top Marquee -->
    <div class="marquee-container">
        <div id="marquee-content" class="marquee-content">
            BELUM ADA TRANSAKSI HARI INI
        </div>
    </div>

    <!-- App Container for SPA -->
    <div id="app-container">

        <!-- Home Page Content -->
        <div id="home-content" style="display: block;">
            <!-- Stats Carousel (Main Balance + Other Stats) - Full Width -->
            <div class="stats-carousel mt-3">
                <div class="stats-carousel-item">
                    <div class="card bg-pink p-2 text-center"
                        style="min-height: 130px; display: flex; flex-direction: column; justify-content: center; overflow: hidden;">
                        <p class="m-0 text-bold" style="font-size: 1.1rem;">SALDO UTAMA</p>
                        <h5 id="header-income-sisa" class="m-0 mt-3" style="font-size: 1.6rem; word-break: break-all;">
                            Rp 0</h5>
                    </div>
                </div>
                <div class="stats-carousel-item">
                    <div class="card bg-green p-2 text-center"
                        style="min-height: 130px; display: flex; flex-direction: column; justify-content: center; overflow: hidden;">
                        <p class="m-0 text-bold" style="font-size: 1.1rem;">BALANCE</p>
                        <h5 id="row-total-balance" class="m-0 mt-3" style="font-size: 1.6rem; word-break: break-all;">Rp
                            0</h5>
                    </div>
                </div>
                <div class="stats-carousel-item">
                    <div class="card bg-yellow p-2 text-center"
                        style="min-height: 130px; display: flex; flex-direction: column; justify-content: center; overflow: hidden;">
                        <p class="m-0 text-bold" style="font-size: 1.1rem;">EXPENSE</p>
                        <h5 id="total-expense" class="m-0 mt-3" style="font-size: 1.6rem; word-break: break-all;">Rp 0
                        </h5>
                    </div>
                </div>
                <div class="stats-carousel-item">
                    <div class="card bg-orange p-2 text-center"
                        style="min-height: 130px; display: flex; flex-direction: column; justify-content: center; overflow: hidden;">
                        <p class="m-0 text-bold" style="font-size: 1.1rem;">INVEST</p>
                        <h5 id="total-invest" class="m-0 mt-3" style="font-size: 1.6rem; word-break: break-all;">Rp 0
                        </h5>
                    </div>
                </div>
            </div>

            <!-- Main Content Container -->
            <div class="container" style="margin-top: 30px;">

                <!-- Recent Transactions -->
                <div class="mt-4">
                    <h3 class="sticker sticker-blue">TRANSAKSI</h3>

                    <!-- Search Bar -->
                    <div class="nb-search-container mt-2">
                        <input type="text" id="transaction-search" class="nb-input" placeholder="Cari transaksi..."
                            onkeyup="searchTransactions()">
                    </div>

                    <div class="tab-group mt-3">
                        <div class="tab-item active" onclick="filterTransactions('all', this)">SEMUA</div>
                        <div class="tab-item" onclick="filterTransactions('income', this)">MASUK</div>
                        <div class="tab-item" onclick="filterTransactions('expense', this)">KELUAR</div>
                    </div>

                    <div id="transaction-list" class="mt-2">
                        <!-- Transaction Items will be injected here -->
                    </div>
                </div>

                <!-- Budget Tracker (Now Dynamic) -->
                <div class="mt-4 mb-5 pb-4">
                    <h3 class="sticker">BUDGET TRACKER</h3>
                    <div id="budget-progress-container" class="card card-inner mt-2 p-3">
                        <!-- Progress items will be injected here -->
                    </div>
                </div>

            </div> <!-- End of .container -->
        </div>

        <!-- Settings Page Content (hidden by default) -->
        <div id="settings-content" style="display: none;">
            <!-- Will be loaded dynamically from settings.html content -->
        </div>

        <!-- Stats Page Content (hidden by default) -->
        <div id="stats-content" style="display: none;">
            <!-- Will be loaded dynamically -->
        </div>

    </div>

    <!-- Footer Navigation Component Container -->
    <div id="footer-nav-container"></div>

    <!-- Component Loader (loads before app.js) -->
    <script src="assets/js/component-loader.js"></script>

    <!-- Sound Manager -->
    <script src="assets/js/sound-manager.js"></script>

    <!-- SPA Router -->
    <script src="assets/js/spa-router.js"></script>

    <!-- Pull-to-Refresh Handler -->
    <script src="assets/js/pull-to-refresh.js"></script>

    <!-- UI Interaction Scripts -->
    <script type="module" src="assets/js/bills.js"></script>
    <script src="assets/js/settings.js"></script>
    <script type="module" src="assets/js/app.js"></script>

</body>

</html>